{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "128371bd-a7b7-45ad-9461-31b2a33ea6dc",
   "metadata": {},
   "source": [
    "# ğŸ Python ğŸ–¼ï¸ Extracting Web Images with BeautifulSoup\n",
    "\n",
    "## â“Did you know you can build your own image dataset from any websiteâ€¦ using just a few lines of code?  \n",
    "With Python, you can automate massive image downloads for vision models, dashboards or recommender systems. ğŸ”\n",
    "\n",
    "## ğŸ‘‰ Solution  \n",
    "We use **BeautifulSoup** and `requests` to scrape a webpage, search for `<img>` tags, and download images efficiently based on criteria.\n",
    "\n",
    "## ğŸ”§ How does it work?\n",
    "*ï¸âƒ£ The script:\n",
    "â€ƒâœ¦ Reads the page HTML  \n",
    "â€ƒâœ¦ Finds all `<img>` tags  \n",
    "â€ƒâœ¦ Filters them by extension  \n",
    "â€ƒâœ¦ Saves images in a timestamped folder\n",
    "\n",
    "## ğŸ” Why does it matter?\n",
    "This approach is great for:  \n",
    "ğŸ“¸ Creating visual datasets  \n",
    "ğŸ“š Training real-world models  \n",
    "ğŸ”— Learning professional file & HTML manipulation\n",
    "\n",
    "## âœ¨ Real-life example:\n",
    "Planning to build a plant classifier?  \n",
    "Scrape hundreds of horticulture images, label them, and use ResNet or EfficientNet to classify species. ğŸŒ¿\n",
    "\n",
    "## âš™ï¸ Business impact:\n",
    "ğŸš€ Speed up visual data collection  \n",
    "ğŸ§  Boost lean AI projects  \n",
    "ğŸ¯ Perfect for design, research or MVPs\n",
    "\n",
    "## ğŸ“Š What the code does:\n",
    "1ï¸âƒ£ Sends a GET request to a web page  \n",
    "2ï¸âƒ£ Parses HTML using BeautifulSoup  \n",
    "3ï¸âƒ£ Extracts and filters images  \n",
    "4ï¸âƒ£ Displays them inline in Jupyter  \n",
    "5ï¸âƒ£ Saves them to a dated folder\n",
    "\n",
    "ğŸ”—[GitHub](https://github.com/jcombari/AI-For-Unstructured-Data/tree/main)\n",
    "\n",
    "ğŸ’­ Reflection:  \n",
    "What kind of images would *you* automate for your next computer vision project?\n",
    "\n",
    "ğŸ”‘ #Python #DataScience #WebScraping #BeautifulSoup #AI #MachineLearning #DeepLearning #ComputerVision #OpenAI #LinkedInTech\n",
    "\n",
    "---\n",
    "\n",
    "# ğŸ Python ğŸ–¼ï¸ Extraer imÃ¡genes de una web con BeautifulSoup\n",
    "\n",
    "## â“Â¿SabÃ­as que puedes construir tu propio dataset de imÃ¡genes desde cualquier sitio web... con solo unas lÃ­neas de cÃ³digo?  \n",
    "Con Python puedes automatizar la descarga de imÃ¡genes para visiÃ³n por computador, dashboards o sistemas de recomendaciÃ³n. ğŸ“¦\n",
    "\n",
    "## ğŸ‘‰ SoluciÃ³n  \n",
    "Utilizamos **BeautifulSoup** y `requests` para realizar scraping de una pÃ¡gina web, buscando etiquetas `<img>` y descargando las imÃ¡genes con filtros inteligentes.\n",
    "\n",
    "## ğŸ”§ Â¿CÃ³mo funciona?\n",
    "*ï¸âƒ£ El script:\n",
    "â€ƒâœ¦ Lee el HTML de una web  \n",
    "â€ƒâœ¦ Encuentra todas las etiquetas `<img>`  \n",
    "â€ƒâœ¦ Filtra las imÃ¡genes por extensiÃ³n  \n",
    "â€ƒâœ¦ Las guarda en una carpeta local con nombre personalizado\n",
    "\n",
    "## ğŸ” Â¿Por quÃ© importa?\n",
    "Esta tÃ©cnica es ideal para:  \n",
    "ğŸ“¸ Generar datasets visuales  \n",
    "ğŸ“š Entrenar modelos con imÃ¡genes reales  \n",
    "ğŸ”— Manipular archivos, URLs y HTML profesionalmente\n",
    "\n",
    "## âœ¨ Ejemplo real o caso prÃ¡ctico:\n",
    "Â¿Planeas entrenar un clasificador de plantas?  \n",
    "Descarga cientos de imÃ¡genes de horticultura, clasifÃ­calas y usa modelos como ResNet o EfficientNet para detectar especies. ğŸŒ¿\n",
    "\n",
    "## âš™ï¸ Impacto en el negocio:\n",
    "ğŸš€ Ahorro de tiempo en recolecciÃ³n de datos visuales  \n",
    "ğŸ§  Impulso a proyectos lean de Data Science  \n",
    "ğŸ¯ Potencial para IA, diseÃ±o o investigaciÃ³n de mercado\n",
    "\n",
    "## ğŸ“Š Â¿QuÃ© hace el cÃ³digo?\n",
    "1ï¸âƒ£ EnvÃ­a una solicitud GET a una URL  \n",
    "2ï¸âƒ£ Analiza el HTML con BeautifulSoup  \n",
    "3ï¸âƒ£ Extrae y filtra imÃ¡genes  \n",
    "4ï¸âƒ£ Las muestra en Jupyter Notebook  \n",
    "5ï¸âƒ£ Las guarda en una carpeta con prefijo de fecha\n",
    "\n",
    "ğŸ”—[GitHub](https://github.com/jcombari/AI-For-Unstructured-Data/tree/main)\n",
    "\n",
    "ğŸ’­ ReflexiÃ³n:  \n",
    "Â¿Y tÃº, quÃ© tipo de imÃ¡genes automatizarÃ­as para tus proyectos de IA?\n",
    "\n",
    "ğŸ”‘ #Python #DataScience #WebScraping #BeautifulSoup #DeepLearning #AI #VisionPorComputador #CienciaDeDatos #LinkedInTech\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "eae09f27-a213-4760-b352-f83cdf36e183",
   "metadata": {},
   "outputs": [],
   "source": [
    "# ğŸ“¦ Import required libraries\n",
    "import requests\n",
    "from bs4 import BeautifulSoup\n",
    "import os\n",
    "from urllib.parse import urljoin\n",
    "from PIL import Image\n",
    "from io import BytesIO\n",
    "from datetime import datetime\n",
    "from IPython.display import display\n",
    "\n",
    "# ğŸŒ Target URL\n",
    "url = \"https://books.toscrape.com/catalogue/page-1.html\"\n",
    "\n",
    "# ğŸ” Request HTML content\n",
    "response = requests.get(url)\n",
    "soup = BeautifulSoup(response.text, \"html.parser\")\n",
    "\n",
    "# ğŸ“ Prepare folder with date prefix\n",
    "date_prefix = \"20250509\"\n",
    "folder_name = f\"{date_prefix}_downloaded_images\"\n",
    "os.makedirs(folder_name, exist_ok=True)\n",
    "\n",
    "# ğŸ–¼ï¸ Extract all image containers\n",
    "img_tags = soup.find_all(\"img\")\n",
    "\n",
    "# ğŸ”½ Download and display images\n",
    "count = 0\n",
    "for img in img_tags:\n",
    "    img_src = img.get(\"src\")\n",
    "    if img_src:\n",
    "        # Convert relative URL to absolute\n",
    "        img_url = urljoin(url, img_src)\n",
    "\n",
    "        try:\n",
    "            # ğŸ“¥ Download image content\n",
    "            img_data = requests.get(img_url).content\n",
    "            image = Image.open(BytesIO(img_data))\n",
    "\n",
    "            # ğŸ–¼ï¸ Show image in notebook\n",
    "            display(image)\n",
    "\n",
    "            # ğŸ’¾ Save locally\n",
    "            file_ext = os.path.splitext(img_url)[-1]\n",
    "            file_name = f\"{date_prefix}_img_{count}{file_ext}\"\n",
    "            path = os.path.join(folder_name, file_name)\n",
    "\n",
    "            with open(path, \"wb\") as f:\n",
    "                f.write(img_data)\n",
    "\n",
    "            count += 1\n",
    "        except Exception as e:\n",
    "            print(f\"âš ï¸ Error with {img_url}: {e}\")\n"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
